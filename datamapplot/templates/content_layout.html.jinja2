{# Main content layout with stacks - matches original deckgl_template.html structure #}
<div style="isolation: isolate; position: relative;">
  <div id="deck-container" style="position: fixed; z-index: -1; top: 0; left: 0; width: 100%; height: 100%;"></div>
  <div class="content-wrapper" style="position: relative; z-index: 1;">
    {# Top-left stack: title, search, topic tree #}
    <div class="stack top-left">
      {% if title %}
      <div id="title-container" class="container-box">
        <span
          id="main-title"
          style="font-family:{{ title_font_family }};font-size:{{ title_font_size }}pt;font-weight:{{ title_font_weight }};color:{{ title_font_color }}"
        >
          {{ title }}
        </span>
        <br />
        <span
          style="font-family:{{ title_font_family }};font-size:{{ sub_title_font_size }}pt;color:{{ sub_title_font_color }}"
        >
          {{ sub_title }}
        </span>
      </div>
      {% endif %}

      {% if search %}
      <div id="search-container" class="container-box interactive-element">
        <input autocomplete="off" type="search" id="text-search" placeholder="ðŸ”" />
      </div>
      {% endif %}
      {% if enable_topic_tree %}
      <div id="topic-tree" class="container-box">
      </div>
      {% endif %}
    </div>
    
    {# Top-right stack: legend #}
    <div class="stack top-right">
      {% if enable_colormap_selector %}
      <div id="legend-container" class="container-box stack-box" style="display:none;">
      </div>
      {% endif %}
    </div>
    
    {# Bottom-right stack #}
    <div class="stack bottom-right">
    </div>
    
    {# Bottom-left stack: colormap selector, histogram #}
    <div class="stack bottom-left">
      {%- if enable_colormap_selector %}
      <div id="colormap-selector-container" class="container-box stack-box interactive-element"></div>
      {%- endif -%}
      {%- if enable_histogram %}
      <div id="d3histogram-container" class="container-box stack-box interactive-element"></div>
      {%- endif -%}
    </div>
  </div>
  
  {# Logo container #}
  {% if logo %}
  <div id="logo-container" class="container-box" style="position: fixed; z-index: 0; bottom: 0; right: 0;">
    <img src="{{ logo }}" style="width:{{ logo_width }}px" />
  </div>
  {% endif %}
</div>

{# Custom HTML #}
{% if custom_html %} {{ custom_html }} {%- endif -%}
